{"version":3,"file":"popup.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://prodov1/./src/popup.js"],"sourcesContent":["//Global Pet Data Variables, used in: getData(); window.onload(){at the beginning};\nvar current_pet = \"\";\nvar current_pet_name = \"\";\nvar current_pet_level = 1;\nvar current_pet_xp = 0;\nvar current_pet_evo = \"evo1\";\nvar current_pet_gif = \"\";\n\nvar task_list_content = \"\";\n\nsetData();\ngetData();\n\nasync function getData() {\n  //Load In Data\n  chrome.storage.sync.get([\"current_pet\"], (result1) => {\n    current_pet = result1.current_pet;\n    chrome.storage.sync.get([`${current_pet}`], (result2) => {\n      current_pet_level = result2[current_pet].level;\n      current_pet_name = result2[current_pet].name;\n      current_pet_xp = result2[current_pet].current_xp;\n      if (current_pet_level >= 60) {\n        current_pet_evo = \"evo3\";\n      } else if (current_pet_level >= 30) {\n        current_pet_evo = \"evo2\";\n      }\n      current_pet_gif = `${current_pet}_${current_pet_evo}`;\n    });\n  });\n  chrome.storage.sync.get([\"task_list\"], (result) => {\n    document.getElementById(\"task_list\").textContent = result.task_list;\n  });\n}\n\n//Data-driven rendering processes\nwindow.onload = function () {\n  chrome.tabs.query({ currentWindow: true, active: true }, function (tabs) {\n    var url = tabs[0].url.toString();\n\n    const pet = document.getElementById(\"pet\");\n\n    if (!url.includes(\"https://classroom.google.com/\")) {\n      pet.src = chrome.runtime.getURL(`assets/Pets/${current_pet_gif}.gif`);\n    } else {\n      pet.style.zIndex = -1000;\n    }\n  });\n\n  const name_text = document.getElementById(\"name\");\n  const level_text = document.getElementById(\"level\");\n  const xp_progress_text = document.getElementById(\"xp_progress\");\n  const xp_status = document.getElementById(\"xp_status\");\n\n  name_text.innerHTML = current_pet_name;\n  level_text.innerHTML = `Level:${current_pet_level}`;\n  xp_progress_text.innerHTML = `${current_pet_xp}/${getNeededXp(\n    current_pet_level + 1\n  )}`;\n  xp_status.style.width = `${\n    (current_pet_xp / getNeededXp(current_pet_level + 1)) * 100\n  }%`;\n};\n\nfunction getNeededXp(target_level) {\n  return Math.floor(56 * target_level ** 1.1);\n}\n\n//Timer Global Variables. Used in: Timer Start/Pause button function; updateTimer()\nvar update_timer_interval = null;\nvar target_time = null;\n\n//Click Events:\nsetTimeout(function () {\n  document\n    .getElementById(\"close_popup_button\")\n    .addEventListener(\"click\", function () {\n      document.getElementById(\"study_popup\").classList.remove(\"active\");\n      document.getElementById(\"bg_overlay\").classList.remove(\"active\");\n      document.getElementById(\"close_popup_button\").classList.remove(\"active\");\n    });\n\n  document\n    .getElementById(\"study_button\")\n    .addEventListener(\"click\", function () {\n      document.getElementById(\"study_popup\").classList.toggle(\"active\");\n      document.getElementById(\"bg_overlay\").classList.toggle(\"active\");\n      document.getElementById(\"close_popup_button\").classList.toggle(\"active\");\n    });\n\n  document.getElementById(\"task_list\").addEventListener(\"blur\", function () {\n    chrome.storage.sync.set({\n      task_list: document.getElementById(\"task_list\").value,\n    });\n  });\n\n  document\n    .getElementById(\"start_pause_button\")\n    .addEventListener(\"click\", function () {\n      if (document.getElementById(\"start_pause_button\").innerHTML == \"START\") {\n        document.getElementById(\"start_pause_button\").innerHTML = \"PAUSE\";\n\n        var now = new Date().getTime();\n        target_time = new Date(now + 20 * 60 * 1000).getTime();\n        update_timer_interval = setInterval(updateTimer, 1000);\n      } else {\n        clearInterval(update_timer_interval);\n        document.getElementById(\"start_pause_button\").innerHTML = \"START\";\n      }\n    });\n}, 100);\n\nfunction updateTimer() {\n  var now = new Date().getTime();\n  document.getElementById(\"study_clock\").innerHTML = millisToMinutesAndSeconds(\n    target_time - now\n  );\n}\n\nfunction millisToMinutesAndSeconds(millis) {\n  var minutes = Math.floor(millis / 60000);\n  var seconds = ((millis % 60000) / 1000).toFixed(0);\n  return seconds == 60\n    ? minutes + 1 + \":00\"\n    : minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds;\n}\n\nfunction setData() {\n  chrome.storage.sync.set({ owned_pets: [\"f001\", \"f002\"] });\n  chrome.storage.sync.set({ current_pet: \"f001\" });\n  chrome.storage.sync.set({\n    f001: {\n      name: \"bruh\",\n      level: 10,\n      current_xp: 0,\n      needed_xp: getNeededXp(2),\n    },\n    f002: {\n      name: \"bruh2\",\n      level: 1,\n      current_xp: 0,\n      needed_xp: getNeededXp(2),\n    },\n    f003: {\n      name: \"bruh3\",\n      level: 1,\n      current_xp: 0,\n      needed_xp: getNeededXp(2),\n    },\n  });\n}\n"],"names":[],"sourceRoot":""}