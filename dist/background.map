{"version":3,"file":"background.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://prodov1/./src/background.js"],"sourcesContent":["var icon = null;\n\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n  if (request.command === \"set_timer\") {\n    setTime(request.time);\n    icon = request.icon;\n  } else if (request.command === \"stop_timer\") {\n    chrome.alarms.clear(\"timer\", console.log(\"cleared alarm\"));\n  }\n});\n\nfunction setTime(time) {\n  chrome.alarms.create(\"timer\", {\n    delayInMinutes: time / 60000,\n    periodInMinutes: time / 60000,\n  });\n  console.log(\"Started timer for \" + time / 60000 + \"minutes\");\n}\n\nchrome.alarms.onAlarm.addListener(() => {\n  chrome.notifications.create(\n    \"NOTIFICATION_ID\",\n    {\n      type: \"basic\",\n      iconUrl: \"https://picsum.photos/200/300\",\n      title: \"Prodo - Timer Ended\",\n      message:\n        \"The timer has ended, you can start the next part of the study cycle in the Study tab.\",\n      priority: 2,\n    },\n    () => {\n      chrome.alarms.clear(\"timer\", console.log(\"cleared alarm\"));\n      chrome.storage.sync.set({ switch_break: true });\n    }\n  );\n});\n\n// chrome.action.setPopup({ popup: \"./game.html\" });\n"],"names":[],"sourceRoot":""}